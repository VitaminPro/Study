# Тест для подготовки к собеседованию: Паттерны в .NET (40 лучших вопросов)

> **Собрано из лучших интернет-источников**: Stack Overflow, GitHub, блоги .NET экспертов, реальные собеседования. Эти вопросы часто встречаются на собеседованиях в топовые компании.

## Порождающие паттерны

1. Какая проблема возникает с классическим Singleton в многопоточном окружении?
   * Увеличение потребления памяти
   * Race condition при создании экземпляра ✅
   * Невозможность наследования
   * Проблемы с garbage collection

2. Какой самый безопасный способ реализации Singleton в C#?
   * Double-check locking
   * static readonly field ✅
   * Lazy<T>
   * lock при каждом обращении

3. В чем основное отличие Abstract Factory от Factory Method?
   * Abstract Factory создает семейства связанных объектов ✅
   * Factory Method более производительный
   * Abstract Factory проще в реализации
   * Различий нет, это синонимы

4. Когда следует использовать паттерн Builder вместо конструктора с параметрами?
   * Когда у класса более 4-5 параметров конструктора ✅
   * Когда класс наследуется от другого
   * Когда нужна высокая производительность
   * Всегда, Builder лучше конструкторов

5. Какой интерфейс в .NET реализует паттерн Prototype?
   * ICloneable ✅
   * IDisposable
   * IComparable
   * ICopyable

6. В ASP.NET Core, AddScoped() регистрирует сервис по какому паттерну?
   * Singleton
   * Factory Method ✅
   * Prototype
   * Builder

7. Что произойдет, если зарегистрировать DbContext как Singleton в ASP.NET Core?
   * Приложение не запустится
   * Проблемы с многопоточностью и состоянием ✅
   * Улучшится производительность
   * Ничего особенного

## Структурные паттерны

8. В каком случае следует использовать паттерн Adapter?
   * Когда нужно упростить сложный интерфейс
   * Когда нужно сделать несовместимые интерфейсы совместимыми ✅
   * Когда нужно добавить новую функциональность
   * Когда нужно контролировать доступ к объекту

9. Что является классическим примером паттерна Decorator в .NET?
   * Stream classes (FileStream, BufferedStream, etc.) ✅
   * DbContext
   * HttpClient
   * StringBuilder

10. В чем основная идея паттерна Facade?
    * Скрыть сложность подсистемы за простым интерфейсом ✅
    * Добавить новое поведение объекту
    * Создать структуру дерева объектов
    * Контролировать доступ к объекту

11. Entity Framework использует какой паттерн для lazy loading связанных объектов?
    * Decorator
    * Proxy ✅
    * Adapter
    * Bridge

12. Паттерн Composite наиболее полезен для работы с:
    * Алгоритмами
    * Иерархическими структурами данных ✅
    * Сетевыми запросами
    * Базами данных

13. В WPF, что является примером паттерна Composite?
    * Data binding
    * Visual Tree ✅
    * Commands
    * Resources

14. Какой паттерн помогает экономить память при работе с большим количеством похожих объектов?
    * Proxy
    * Decorator
    * Flyweight ✅
    * Bridge

15. В чем основная цель паттерна Bridge?
    * Упростить сложный интерфейс
    * Разделить абстракцию от реализации ✅
    * Добавить новую функциональность
    * Контролировать создание объектов

## Поведенческие паттерны

16. Какой паттерн лежит в основе событий (events) в C#?
    * Strategy
    * Observer ✅
    * Command
    * State

17. В каком случае лучше использовать Strategy вместо обычных if/else или switch?
    * Когда условий меньше 3
    * Когда алгоритмы сложные и могут изменяться ✅
    * Когда нужна максимальная производительность
    * Никогда, if/else проще

18. ICommand в WPF/XAML реализует какой паттерн?
    * Observer
    * Strategy
    * Command ✅
    * State

19. Middleware pipeline в ASP.NET Core - это пример какого паттерна?
    * Observer
    * Chain of Responsibility ✅
    * Strategy
    * Template Method

20. В чем основная идея паттерна State?
    * Инкапсулировать алгоритм
    * Позволить объекту изменять поведение при изменении состояния ✅
    * Наблюдать за изменениями
    * Передавать запросы как объекты

21. Какой интерфейс в .NET является реализацией паттерна Iterator?
    * IComparable
    * IEnumerable ✅
    * IDisposable
    * ICloneable

22. Паттерн Visitor наиболее полезен при работе с:
    * Простыми объектами
    * Сложными иерархиями объектов ✅
    * Сетевыми запросами
    * Файловой системой

23. Когда следует использовать паттерн Mediator?
    * Когда объекты тесно связаны и сложно взаимодействуют ✅
    * Когда нужно создать объект
    * Когда нужно сохранить состояние
    * Когда нужно выполнить алгоритм

24. Паттерн Template Method определяет:
    * Способ создания объектов
    * Скелет алгоритма с возможностью переопределения шагов ✅
    * Способ уведомления об изменениях
    * Способ инкапсуляции запросов

25. MediatR library в .NET реализует какой паттерн?
    * Observer
    * Command/Mediator ✅
    * Strategy
    * State

26. Паттерн Memento используется для:
    * Выполнения операций
    * Сохранения и восстановления состояния объекта ✅
    * Итерации по коллекции
    * Уведомления об изменениях

27. В каком случае паттерн Chain of Responsibility особенно полезен?
    * Когда обработчик заранее известен
    * Когда несколько объектов могут обработать запрос ✅
    * Когда нужна максимальная производительность
    * Когда объектов только два

## Применение в современном .NET

28. Какой lifetime в .NET DI контейнере соответствует паттерну Singleton?
    * Transient
    * Scoped
    * Singleton ✅
    * Instance

29. В Entity Framework Core, Change Tracking использует какой паттерн?
    * Command
    * Observer ✅
    * Strategy
    * Proxy

30. ASP.NET Core Model Binding реализует какой паттерн?
    * Proxy
    * Adapter ✅
    * Decorator
    * Facade

31. HttpClientFactory в .NET решает какую проблему антипаттерна?
    * Создание слишком многих соединений
    * Socket exhaustion ✅
    * Утечки памяти
    * Проблемы с SSL

32. В SignalR, что является примером паттерна Observer?
    * Hub creation
    * Client notifications ✅
    * Connection management
    * Message serialization

33. Minimal APIs в .NET 6+ использует какой паттерн для регистрации endpoints?
    * Strategy
    * Builder ✅
    * Factory
    * Singleton

34. System.Text.Json JsonSerializer использует какой паттерн для обработки разных типов?
    * Strategy
    * Visitor ✅
    * Observer
    * Command

35. В Blazor, что является примером паттерна Observer?
    * Component lifecycle
    * State management и re-rendering ✅
    * Routing
    * Dependency injection

36. CQRS pattern чаще всего комбинируется с каким паттерном?
    * Singleton
    * Command/Mediator ✅
    * Factory
    * Adapter

37. В gRPC, что является примером паттерна Proxy?
    * Client stub ✅
    * Server implementation
    * Message serialization
    * Connection pooling

38. AutoMapper библиотека реализует какой структурный паттерн?
    * Proxy
    * Decorator
    * Adapter ✅
    * Bridge

39. В xUnit/MSTest, TestFixture setup/teardown реализует какой паттерн?
    * Observer
    * Template Method ✅
    * Strategy
    * Command

40. Полиморфизм в C# на уровне языка является реализацией какого паттерна?
    * Factory Method
    * Strategy ✅
    * Template Method
    * State
